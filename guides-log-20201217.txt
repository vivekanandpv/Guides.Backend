2020-12-17 22:30:42.678 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 22:30:43.490 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 22:30:43.540 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 22:30:43.542 +05:30 [INF] Hosting environment: Development
2020-12-17 22:30:43.543 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 22:34:21.307 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/sample application/json 59
2020-12-17 22:34:59.837 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 22:35:00.458 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 22:35:00.461 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 22:35:00.462 +05:30 [INF] Hosting environment: Development
2020-12-17 22:35:00.464 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 22:35:05.453 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/sample application/json 59
2020-12-17 22:35:05.520 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/sample application/json 59 - 404 0 - 68.1817ms
2020-12-17 22:35:30.865 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5015/api/auth application/json 59
2020-12-17 22:35:30.868 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5015/api/auth application/json 59 - 404 0 - 3.1284ms
2020-12-17 22:35:40.150 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/login application/json 59
2020-12-17 22:35:40.156 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.Login (Guides.Backend)'
2020-12-17 22:35:40.209 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Guides.Backend.ViewModels.Auth.AuthTokenViewModel]] Login(Guides.Backend.ViewModels.Auth.AuthLoginViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 22:35:40.764 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-12-17 22:35:40.805 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.Login (Guides.Backend) in 586.0731ms
2020-12-17 22:35:40.810 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.Login (Guides.Backend)'
2020-12-17 22:35:40.813 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/login application/json 59 - 400 - application/problem+json;+charset=utf-8 662.9028ms
2020-12-17 22:36:14.251 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 59
2020-12-17 22:36:14.264 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 22:36:14.309 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Guides.Backend.ViewModels.Auth.AuthResetKeyViewModel]] Register(Guides.Backend.ViewModels.Auth.AuthRegisterViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 22:36:14.331 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-12-17 22:36:14.334 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.Register (Guides.Backend) in 22.7801ms
2020-12-17 22:36:14.338 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 22:36:14.341 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 59 - 400 - application/problem+json;+charset=utf-8 89.8793ms
2020-12-17 22:39:56.686 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 279
2020-12-17 22:39:56.693 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 22:39:56.696 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Guides.Backend.ViewModels.Auth.AuthResetKeyViewModel]] Register(Guides.Backend.ViewModels.Auth.AuthRegisterViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 22:39:57.516 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 22:39:58.457 +05:30 [ERR] An error occurred using the connection to database 'guidesdb' on server '139.59.69.3'.
2020-12-17 22:39:58.550 +05:30 [ERR] An exception occurred while iterating over the results of a query for context type 'Guides.Backend.Data.GuidesContext'.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the login process. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:5abb5dd7-82e7-46b1-8fb2-7fb314d92e09
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the login process. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:5abb5dd7-82e7-46b1-8fb2-7fb314d92e09
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
2020-12-17 22:39:58.839 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.Register (Guides.Backend) in 2136.0148ms
2020-12-17 22:39:58.845 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 22:39:59.003 +05:30 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: An exception has been raised that is likely due to a transient failure. Consider enabling transient error resiliency by adding 'EnableRetryOnFailure()' to the 'UseSqlServer' call.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): A connection was successfully established with the server, but then an error occurred during the login process. (provider: TCP Provider, error: 0 - An existing connection was forcibly closed by the remote host.)
 ---> System.ComponentModel.Win32Exception (10054): An existing connection was forcibly closed by the remote host.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
ClientConnectionId:5abb5dd7-82e7-46b1-8fb2-7fb314d92e09
Error Number:10054,State:0,Class:20
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
   at Guides.Backend.Repositories.Auth.AuthRepository.UserExists(Int64 mobileNumber) in C:\Users\vivek\source\repos\Guides.Backend\Repositories\Auth\AuthRepository.cs:line 53
   at Guides.Backend.Services.Auth.AuthService.Register(AuthRegisterViewModel viewModel) in C:\Users\vivek\source\repos\Guides.Backend\Services\Auth\AuthService.cs:line 71
   at Guides.Backend.Controllers.AuthController.Register(AuthRegisterViewModel viewModel) in C:\Users\vivek\source\repos\Guides.Backend\Controllers\AuthController.cs:line 32
   at lambda_method16(Closure , Object )
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Guides.Backend.Middleware.AuthExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\vivek\source\repos\Guides.Backend\Middleware\AuthExceptionHandlerMiddleware.cs:line 23
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-17 22:39:59.090 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 279 - 500 - text/plain 2403.4520ms
2020-12-17 22:41:40.650 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 279
2020-12-17 22:41:40.656 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 22:41:40.659 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Guides.Backend.ViewModels.Auth.AuthResetKeyViewModel]] Register(Guides.Backend.ViewModels.Auth.AuthRegisterViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 22:41:40.701 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 22:41:40.882 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__mobileNumber_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[MobileNumber] = @__mobileNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-12-17 22:41:40.934 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-12-17 22:41:40.953 +05:30 [INF] Preparing for registration of vivekanandpv@outlook.com
2020-12-17 22:41:40.960 +05:30 [INF] Preparing role enrollment for registration of vivekanandpv@outlook.com
2020-12-17 22:41:41.024 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__role_0
2020-12-17 23:01:44.584 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 23:01:45.113 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 23:01:45.121 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 23:01:45.122 +05:30 [INF] Hosting environment: Development
2020-12-17 23:01:45.126 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 23:01:55.017 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 285
2020-12-17 23:01:55.075 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 23:01:55.110 +05:30 [INF] Route matched with {action = "Register", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Guides.Backend.ViewModels.Auth.AuthResetKeyViewModel]] Register(Guides.Backend.ViewModels.Auth.AuthRegisterViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 23:01:56.177 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 23:01:56.874 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@__mobileNumber_0='?' (DbType = Int64)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[MobileNumber] = @__mobileNumber_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-12-17 23:01:56.930 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[Email] = @__email_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2020-12-17 23:01:56.949 +05:30 [INF] Preparing for registration of vivekanandpv@outlook.com
2020-12-17 23:01:56.956 +05:30 [INF] Preparing role enrollment for registration of vivekanandpv@outlook.com
2020-12-17 23:01:57.031 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__role_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[Id], [r].[Name]
FROM [Roles] AS [r]
WHERE [r].[Name] = @__role_0
2020-12-17 23:01:57.083 +05:30 [INF] Initiating persistence for registration of vivekanandpv@outlook.com
2020-12-17 23:01:57.339 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 200), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (Size = 50), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int64), @p15='?' (Size = 50), @p16='?' (Size = 8000) (DbType = Binary), @p17='?' (DbType = DateTime2), @p18='?' (Size = 8000) (DbType = Binary), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [Users] ([AdminBlockOn], [AdminResetOn], [Country], [CreatedOn], [DisplayName], [Email], [FailedAttempts], [FullName], [IdentityInformation], [IsAdminLocked], [IsLoginLocked], [LockedOn], [LoginBlockOn], [LoginResetOn], [MobileNumber], [OfficialPosition], [PasswordHash], [PasswordResetOn], [PasswordSalt], [ResetKey], [ResetKeyExpiresOn])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20);
SELECT [Id]
FROM [Users]
WHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();
2020-12-17 23:01:57.389 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p21='?' (DbType = Int32), @p22='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [UserRoles] ([RoleId], [UserId])
VALUES (@p21, @p22);
2020-12-17 23:01:57.429 +05:30 [INF] User registration succeeded for vivekanandpv@outlook.com
2020-12-17 23:01:57.444 +05:30 [INF] Executing ObjectResult, writing value of type 'Guides.Backend.ViewModels.Auth.AuthResetKeyViewModel'.
2020-12-17 23:01:57.485 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.Register (Guides.Backend) in 2367.3828ms
2020-12-17 23:01:57.492 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.Register (Guides.Backend)'
2020-12-17 23:01:57.504 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/register application/json 285 - 200 - application/json;+charset=utf-8 2488.7485ms
2020-12-17 23:05:19.088 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 23:05:19.609 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 23:05:19.629 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 23:05:19.632 +05:30 [INF] Hosting environment: Development
2020-12-17 23:05:19.633 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 23:05:40.433 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 23:05:41.045 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 23:05:41.048 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 23:05:41.050 +05:30 [INF] Hosting environment: Development
2020-12-17 23:05:41.051 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 23:06:59.131 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 150
2020-12-17 23:06:59.177 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:06:59.214 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Guides.Backend.ViewModels.Auth.AuthResetPasswordViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 23:06:59.576 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2020-12-17 23:06:59.605 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend) in 382.5214ms
2020-12-17 23:06:59.612 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:06:59.618 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 150 - 400 - application/problem+json;+charset=utf-8 489.1875ms
2020-12-17 23:07:09.541 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 153
2020-12-17 23:07:09.546 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:07:09.550 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Guides.Backend.ViewModels.Auth.AuthResetPasswordViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 23:07:10.251 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 23:07:11.123 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdminBlockOn], [t].[AdminResetOn], [t].[Country], [t].[CreatedOn], [t].[DisplayName], [t].[Email], [t].[FailedAttempts], [t].[FullName], [t].[IdentityInformation], [t].[IsAdminLocked], [t].[IsLoginLocked], [t].[LockedOn], [t].[LoginBlockOn], [t].[LoginResetOn], [t].[MobileNumber], [t].[OfficialPosition], [t].[PasswordHash], [t].[PasswordResetOn], [t].[PasswordSalt], [t].[ResetKey], [t].[ResetKeyExpiresOn], [t0].[UserId], [t0].[RoleId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AdminBlockOn], [u].[AdminResetOn], [u].[Country], [u].[CreatedOn], [u].[DisplayName], [u].[Email], [u].[FailedAttempts], [u].[FullName], [u].[IdentityInformation], [u].[IsAdminLocked], [u].[IsLoginLocked], [u].[LockedOn], [u].[LoginBlockOn], [u].[LoginResetOn], [u].[MobileNumber], [u].[OfficialPosition], [u].[PasswordHash], [u].[PasswordResetOn], [u].[PasswordSalt], [u].[ResetKey], [u].[ResetKeyExpiresOn]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[UserId], [t0].[RoleId], [t0].[Id]
2020-12-17 23:07:11.306 +05:30 [INF] Reset key expired for the user vivekanandpv@outlook.com
2020-12-17 23:07:11.309 +05:30 [INF] Reset key discrepancy detected and attempt prevented for : vivekanandpv@outlook.com
2020-12-17 23:07:11.473 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend) in 1915.5752ms
2020-12-17 23:07:11.477 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:07:11.611 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Guides.Backend.Exceptions.Auth.UserActionPreventedException: Exception of type 'Guides.Backend.Exceptions.Auth.UserActionPreventedException' was thrown.
   at Guides.Backend.Services.Auth.AuthService.ResetPassword(AuthResetPasswordViewModel viewModel) in C:\Users\vivek\source\repos\Guides.Backend\Services\Auth\AuthService.cs:line 284
   at Guides.Backend.Controllers.AuthController.ResetPassword(AuthResetPasswordViewModel viewModel) in C:\Users\vivek\source\repos\Guides.Backend\Controllers\AuthController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Guides.Backend.Middleware.AuthExceptionHandlerMiddleware.InvokeAsync(HttpContext context) in C:\Users\vivek\source\repos\Guides.Backend\Middleware\AuthExceptionHandlerMiddleware.cs:line 23
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2020-12-17 23:07:11.736 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 153 - 500 - text/plain 2195.3575ms
2020-12-17 23:09:03.495 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 23:09:04.024 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 23:09:04.035 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 23:09:04.037 +05:30 [INF] Hosting environment: Development
2020-12-17 23:09:04.039 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 23:09:31.005 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 153
2020-12-17 23:09:31.057 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:09:31.097 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Guides.Backend.ViewModels.Auth.AuthResetPasswordViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 23:09:34.912 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 23:09:35.896 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdminBlockOn], [t].[AdminResetOn], [t].[Country], [t].[CreatedOn], [t].[DisplayName], [t].[Email], [t].[FailedAttempts], [t].[FullName], [t].[IdentityInformation], [t].[IsAdminLocked], [t].[IsLoginLocked], [t].[LockedOn], [t].[LoginBlockOn], [t].[LoginResetOn], [t].[MobileNumber], [t].[OfficialPosition], [t].[PasswordHash], [t].[PasswordResetOn], [t].[PasswordSalt], [t].[ResetKey], [t].[ResetKeyExpiresOn], [t0].[UserId], [t0].[RoleId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AdminBlockOn], [u].[AdminResetOn], [u].[Country], [u].[CreatedOn], [u].[DisplayName], [u].[Email], [u].[FailedAttempts], [u].[FullName], [u].[IdentityInformation], [u].[IsAdminLocked], [u].[IsLoginLocked], [u].[LockedOn], [u].[LoginBlockOn], [u].[LoginResetOn], [u].[MobileNumber], [u].[OfficialPosition], [u].[PasswordHash], [u].[PasswordResetOn], [u].[PasswordSalt], [u].[ResetKey], [u].[ResetKeyExpiresOn]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[UserId], [t0].[RoleId], [t0].[Id]
2020-12-17 23:10:47.582 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 23:10:48.082 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 23:10:48.085 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 23:10:48.086 +05:30 [INF] Hosting environment: Development
2020-12-17 23:10:48.088 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 23:10:57.170 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 153
2020-12-17 23:10:57.228 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:10:57.268 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Guides.Backend.ViewModels.Auth.AuthResetPasswordViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 23:10:58.308 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 23:10:59.191 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdminBlockOn], [t].[AdminResetOn], [t].[Country], [t].[CreatedOn], [t].[DisplayName], [t].[Email], [t].[FailedAttempts], [t].[FullName], [t].[IdentityInformation], [t].[IsAdminLocked], [t].[IsLoginLocked], [t].[LockedOn], [t].[LoginBlockOn], [t].[LoginResetOn], [t].[MobileNumber], [t].[OfficialPosition], [t].[PasswordHash], [t].[PasswordResetOn], [t].[PasswordSalt], [t].[ResetKey], [t].[ResetKeyExpiresOn], [t0].[UserId], [t0].[RoleId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AdminBlockOn], [u].[AdminResetOn], [u].[Country], [u].[CreatedOn], [u].[DisplayName], [u].[Email], [u].[FailedAttempts], [u].[FullName], [u].[IdentityInformation], [u].[IsAdminLocked], [u].[IsLoginLocked], [u].[LockedOn], [u].[LoginBlockOn], [u].[LoginResetOn], [u].[MobileNumber], [u].[OfficialPosition], [u].[PasswordHash], [u].[PasswordResetOn], [u].[PasswordSalt], [u].[ResetKey], [u].[ResetKeyExpiresOn]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[UserId], [t0].[RoleId], [t0].[Id]
2020-12-17 23:10:59.383 +05:30 [INF] Reset password final steps initiated for user: vivekanandpv@outlook.com
2020-12-17 23:10:59.402 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdminBlockOn], [t].[AdminResetOn], [t].[Country], [t].[CreatedOn], [t].[DisplayName], [t].[Email], [t].[FailedAttempts], [t].[FullName], [t].[IdentityInformation], [t].[IsAdminLocked], [t].[IsLoginLocked], [t].[LockedOn], [t].[LoginBlockOn], [t].[LoginResetOn], [t].[MobileNumber], [t].[OfficialPosition], [t].[PasswordHash], [t].[PasswordResetOn], [t].[PasswordSalt], [t].[ResetKey], [t].[ResetKeyExpiresOn], [t0].[UserId], [t0].[RoleId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AdminBlockOn], [u].[AdminResetOn], [u].[Country], [u].[CreatedOn], [u].[DisplayName], [u].[Email], [u].[FailedAttempts], [u].[FullName], [u].[IdentityInformation], [u].[IsAdminLocked], [u].[IsLoginLocked], [u].[LockedOn], [u].[LoginBlockOn], [u].[LoginResetOn], [u].[MobileNumber], [u].[OfficialPosition], [u].[PasswordHash], [u].[PasswordResetOn], [u].[PasswordSalt], [u].[ResetKey], [u].[ResetKeyExpiresOn]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[UserId], [t0].[RoleId], [t0].[Id]
2020-12-17 23:10:59.454 +05:30 [INF] Reset password completed for user: vivekanandpv@outlook.com
2020-12-17 23:10:59.610 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p21='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (DbType = DateTime2), @p4='?' (Size = 50), @p5='?' (Size = 200), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (Size = 50), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = DateTime2), @p12='?' (DbType = DateTime2), @p13='?' (DbType = DateTime2), @p14='?' (DbType = Int64), @p15='?' (Size = 50), @p16='?' (Size = 8000) (DbType = Binary), @p17='?' (DbType = DateTime2), @p18='?' (Size = 8000) (DbType = Binary), @p19='?' (Size = 4000), @p20='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [Users] SET [AdminBlockOn] = @p0, [AdminResetOn] = @p1, [Country] = @p2, [CreatedOn] = @p3, [DisplayName] = @p4, [Email] = @p5, [FailedAttempts] = @p6, [FullName] = @p7, [IdentityInformation] = @p8, [IsAdminLocked] = @p9, [IsLoginLocked] = @p10, [LockedOn] = @p11, [LoginBlockOn] = @p12, [LoginResetOn] = @p13, [MobileNumber] = @p14, [OfficialPosition] = @p15, [PasswordHash] = @p16, [PasswordResetOn] = @p17, [PasswordSalt] = @p18, [ResetKey] = @p19, [ResetKeyExpiresOn] = @p20
WHERE [Id] = @p21;
SELECT @@ROWCOUNT;
2020-12-17 23:10:59.665 +05:30 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2020-12-17 23:10:59.675 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend) in 2395.5493ms
2020-12-17 23:10:59.683 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.ResetPassword (Guides.Backend)'
2020-12-17 23:10:59.699 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/reset-password application/json 153 - 200 0 - 2530.1668ms
2020-12-17 23:14:45.240 +05:30 [INF] User profile is available. Using 'C:\Users\vivek\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2020-12-17 23:14:45.791 +05:30 [INF] Now listening on: http://localhost:5015
2020-12-17 23:14:45.793 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2020-12-17 23:14:45.794 +05:30 [INF] Hosting environment: Development
2020-12-17 23:14:45.796 +05:30 [INF] Content root path: C:\Users\vivek\source\repos\Guides.Backend
2020-12-17 23:15:23.733 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5015/api/auth/login application/json 79
2020-12-17 23:15:23.783 +05:30 [INF] Executing endpoint 'Guides.Backend.Controllers.AuthController.Login (Guides.Backend)'
2020-12-17 23:15:23.821 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[Guides.Backend.ViewModels.Auth.AuthTokenViewModel]] Login(Guides.Backend.ViewModels.Auth.AuthLoginViewModel) on controller Guides.Backend.Controllers.AuthController (Guides.Backend).
2020-12-17 23:15:24.981 +05:30 [INF] Entity Framework Core 5.0.1 initialized 'GuidesContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2020-12-17 23:15:25.889 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__email_0='?' (Size = 200)], CommandType='"Text"', CommandTimeout='30']
SELECT [t].[Id], [t].[AdminBlockOn], [t].[AdminResetOn], [t].[Country], [t].[CreatedOn], [t].[DisplayName], [t].[Email], [t].[FailedAttempts], [t].[FullName], [t].[IdentityInformation], [t].[IsAdminLocked], [t].[IsLoginLocked], [t].[LockedOn], [t].[LoginBlockOn], [t].[LoginResetOn], [t].[MobileNumber], [t].[OfficialPosition], [t].[PasswordHash], [t].[PasswordResetOn], [t].[PasswordSalt], [t].[ResetKey], [t].[ResetKeyExpiresOn], [t0].[UserId], [t0].[RoleId], [t0].[Id], [t0].[Name]
FROM (
    SELECT TOP(1) [u].[Id], [u].[AdminBlockOn], [u].[AdminResetOn], [u].[Country], [u].[CreatedOn], [u].[DisplayName], [u].[Email], [u].[FailedAttempts], [u].[FullName], [u].[IdentityInformation], [u].[IsAdminLocked], [u].[IsLoginLocked], [u].[LockedOn], [u].[LoginBlockOn], [u].[LoginResetOn], [u].[MobileNumber], [u].[OfficialPosition], [u].[PasswordHash], [u].[PasswordResetOn], [u].[PasswordSalt], [u].[ResetKey], [u].[ResetKeyExpiresOn]
    FROM [Users] AS [u]
    WHERE [u].[Email] = @__email_0
) AS [t]
LEFT JOIN (
    SELECT [u0].[UserId], [u0].[RoleId], [r].[Id], [r].[Name]
    FROM [UserRoles] AS [u0]
    INNER JOIN [Roles] AS [r] ON [u0].[RoleId] = [r].[Id]
) AS [t0] ON [t].[Id] = [t0].[UserId]
ORDER BY [t].[Id], [t0].[UserId], [t0].[RoleId], [t0].[Id]
2020-12-17 23:15:26.540 +05:30 [INF] Executing ObjectResult, writing value of type 'Guides.Backend.ViewModels.Auth.AuthTokenViewModel'.
2020-12-17 23:15:26.565 +05:30 [INF] Executed action Guides.Backend.Controllers.AuthController.Login (Guides.Backend) in 2736.9527ms
2020-12-17 23:15:26.573 +05:30 [INF] Executed endpoint 'Guides.Backend.Controllers.AuthController.Login (Guides.Backend)'
2020-12-17 23:15:26.597 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5015/api/auth/login application/json 79 - 200 - application/json;+charset=utf-8 2868.1355ms
